{"name":"Raspberry Pi Heartbeat","tagline":"Status webpage for Raspberry Pi server running Raspbian","body":"Raspberry-Pi-Heartbeat\r\n======================\r\n\r\n##Status webpage for Raspberry Pi##\r\n\r\n![Raspberry Pi Heartbeat](http://i.imgur.com/nEqeHF6.png)\r\n\r\n###Prerequisites###\r\nYou will have to check a few things for this page to show up correctly. You need to have:\r\n\r\n* lsb-release (for non Raspbian distributions) - so the automated installer script can find your distribution name.\r\n* Webserver (apache \\ lighttpd \\ ..) with PHP\r\n\r\n\r\n#####Optional (./install.sh will install them for you):\r\n* Sqlite for PHP `$ sudo apt-get install php5-sqlite`\r\n* PHP Safe Mode = off\r\n* vstat installed `$ sudo apt-get install vnstat`\r\n\r\nFirst 3 are more or less general and common. VNSTAT is additional app which collects traffic information. You might fiddle around with it's settings after the installation if you want. Main requirement is that it does give an output with this command `$ vnstat --dumpdb`.\r\n\r\n###Contents of the package & Installation###\r\n\r\nAs for now: 8-9 files\r\n\r\n* config.php - Where you can configure all the settings (folder path, verbosity and future options)\r\n* index.php - Home page which shows the graphs and info.\r\n* style.css - Styles for the fashion!\r\n* rpiTemp.db - SQLite db file. With some test data.\r\n* measuretemp.php - php script for cron job.\r\n* cleanDB.php - script to clean the DB from sampling data and forbid future accidental deletions using a lock file.\r\n* db.lck - lock file used by cleanDB.php to flag the clean operation as done and forbid future database cleanups. If you do want to reset the database, then delete db.lck first.\r\n* funs.php - extras for Ajax and live measurements\r\n\r\n**To set it up:**\r\n\r\n1. Download a zip from [this page] (http://yuraa.github.io/Raspberry-Pi-Heartbeat/) and unzip to a desired web folder (i.e. /var/www/rpih/)\r\n2. Open config.php and update `$config[\"root_dir\"]` the with directory you put it in. For example, if you put it into /var/www/rpih/: `$config[\"root_dir\"]=\"/var/www/rpih/\"`\r\n3. Check and install if needed the prerequisites (see above)  OR \r\n4. Run `$ sudo ./install.sh` - this will try to install all missing prerequisites, initialize the database with the first temperature sample and update the crontab with the periodical temperature sampling. Default is a sample every 5 minutes. This can later be changed in `$ sudo crontab -e`\r\n\r\nYou can also manually add the cron job to your system/download the\r\npackages/clean the database. `$ sudo crontab -e` and add a line at the end of the file: \r\n`*/5 * * * * php /path/measuretemp.php` - /path/ is the place where you've\r\nunziped the package! This will run measuretemp.php every 5 minutes. If you want\r\nit to happen less often, change 5 to a higher number of minutes (*/10 for every\r\n10 minutes, */35 for every 35 minutes and so on).\r\n\r\nThe database can be cleaned using cleanDB.php, which will also produce a lock\r\nfile to avoid future  accidental deletions. Delete the lock file (`db.lck`) first if you\r\nreally want to clean the database.\r\n\r\n**You are done!**\r\n\r\nYou've unzipped the package, created a scheduled task for Raspbian to run the php script every N minutes and you have cleaned the database from test data and the script created a fail safe flag (file: `db.lck`) which will prevent anyone from cleaning db again!\r\n\r\nAccess the webpage with the web browser and start collecting statistics!:)\r\n\r\nAnd of course come back for updated versions!\r\n\r\n###Authors and Contributors###\r\nFirst version by: @beard\r\n\r\n###Support or Contact###\r\nIf you have any questions \\ suggestions \\ feedbacks: beard@geekbeard.com - we hope you send us a note!:)\r\n\r\nAlso in case you want to join as a contributor - send a message to us. (project will go public once it has a clean code and comments for others to be able to contribute easily).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}